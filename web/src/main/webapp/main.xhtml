<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/WEB-INF/templates/default.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:stork="http://java.sun.com/jsf/composite/stork"
        >
    <ui:define name="content">

        <h:messages globalOnly="true"/>

        <h:panelGroup rendered="#{empty storkUser}">
            Please <h:outputLink value="#{request.contextPath}/initLogin">login in through Stork</h:outputLink> first.
        </h:panelGroup>

        <h:form id="reg" styleClass="form" rendered="#{not empty storkUser}">
            <fieldset>
                <h3 class="category-title">Personal information</h3>
                <ul>
                    <li class="row">
                        <stork:personAttribute label="Given Name:" componentId="giveName" attributeValue="#{storkUser.givenName}"/>
                        <stork:personAttribute label="Family Name:" componentId="surname" attributeValue="#{storkUser.surname}"/>
                    </li>
                    <li class="row">
                        <stork:personAttribute label="Date of Birth:" componentId="dateOfBirth" attributeValue="#{storkUser.dateOfBirth}"/>
                        <stork:personAttribute label="Gender:" componentId="gender" attributeValue="#{storkUser.gender}"/>
                    </li>
                    <li class="row">
                        <stork:personAttribute label="Nationality Code:" componentId="nationalityCode" attributeValue="#{storkUser.nationalityCode}"/>
                        <stork:personAttribute label="Birth Country Code:" componentId="countryCodeOfBirth" attributeValue="#{storkUser.countryCodeOfBirth}"/>
                    </li>
                    <li class="row">
                        <stork:personAttribute label="Residence Address:" componentId="textResidenceAddress" attributeValue="#{storkUser.textResidenceAddress}"/>
                        <stork:personAttribute label="Canonical Residence Address:" componentId="canonicalResidenceAddress" attributeValue="#{storkUser.canonicalResidenceAddress}"/>
                    </li>
                </ul>
            </fieldset>

            <ul>
                <li class="row actions">
                    <a href="#" class="back cancel">Cancel</a>
                    <h:commandButton id="register" action="#{mainPage.requestTaxId}" value="Register" styleClass="btn"/>
                </li>
            </ul>
        </h:form>
    </ui:define>
</ui:composition>
